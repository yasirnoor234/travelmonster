/*jshint -W065 */
wp.customize.controlConstructor['travel-monster-select'] = wp.customize.Control.extend({
    ready: function () {
        'use strict';

        var control = this,
            element = this.container.find('select'),
            multiple = parseInt(element.data('multiple')),
            selectValue;
        // Change value
        this.container.on('change', 'select', function () {
            selectValue = jQuery(this).val();

            // If this is a multi-select, then we need to convert the value to an object.
            if (multiple > 1) {
                selectValue = _.extend({}, jQuery(this).val());
            }

            control.setting.set(selectValue);
        });
    }
});